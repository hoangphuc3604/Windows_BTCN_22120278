<Page
    x:Class="Windows_22120278.Views.DashboardPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:lvc="using:LiveChartsCore.SkiaSharpView.WinUI"
    xmlns:vm="using:Windows_22120278.ViewModels">

    <Grid Padding="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <BreadcrumbBar Grid.Row="0"
                       x:Name="BreadcrumbBarControl"
                       Margin="0,0,0,16"
                       ItemsSource="{x:Bind BreadcrumbItems, Mode=OneWay}"
                       ItemClicked="BreadcrumbBar_ItemClicked" />

        <Grid Grid.Row="1" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="16"
                    Margin="0,0,8,0">
                <StackPanel>
                    <FontIcon Glyph="&#xE8A5;" FontFamily="Segoe Fluent Icons" FontSize="24" VerticalAlignment="Center" Margin="0,0,0,8"/>
                    <TextBlock Text="Total Boards" VerticalAlignment="Center" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}" Margin="0,0,0,4"/>
                    <TextBlock Text="{Binding TotalBoards, Mode=OneWay}" VerticalAlignment="Center" FontWeight="Bold" FontSize="24" />
                </StackPanel>
            </Border>

            <Border Grid.Column="1"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="16"
                    Margin="4,0">
                <StackPanel>
                    <FontIcon Glyph="&#xE8A5;" FontFamily="Segoe Fluent Icons" FontSize="24" VerticalAlignment="Center" Margin="0,0,0,8"/>
                    <TextBlock Text="Total Templates" VerticalAlignment="Center" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}" Margin="0,0,0,4"/>
                    <TextBlock Text="{Binding TotalTemplates, Mode=OneWay}" VerticalAlignment="Center" FontWeight="Bold" FontSize="24" />
                </StackPanel>
            </Border>

            <Border Grid.Column="2"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="16"
                    Margin="8,0,0,0">
                <StackPanel>
                    <FontIcon Glyph="&#xE8A5;" FontFamily="Segoe Fluent Icons" FontSize="24" VerticalAlignment="Center" Margin="0,0,0,8"/>
                    <TextBlock Text="Total Shapes" VerticalAlignment="Center" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}" Margin="0,0,0,4"/>
                    <TextBlock Text="{Binding TotalShapes, Mode=OneWay}" VerticalAlignment="Center" FontWeight="Bold" FontSize="24" />
                </StackPanel>
            </Border>
        </Grid>

        <Grid Grid.Row="2" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0"
                    Command="{Binding NavigateToSavedCanvasesCommand}"
                    HorizontalAlignment="Stretch"
                    CornerRadius="4"
                    Padding="16"
                    Margin="0,0,8,0"
                    Style="{StaticResource AccentButtonStyle}">
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <FontIcon Glyph="&#xE8A5;" FontFamily="Segoe Fluent Icons" FontSize="24"/>
                    <StackPanel>
                        <TextBlock Text="Saved Canvases" FontSize="16" FontWeight="SemiBold"/>
                        <TextBlock Text="Manage your saved drawing boards" FontSize="12" Opacity="0.8"/>
                    </StackPanel>
                </StackPanel>
            </Button>

            <Button Grid.Column="1"
                    Command="{Binding NavigateToTemplatesCommand}"
                    HorizontalAlignment="Stretch"
                    CornerRadius="4"
                    Padding="16"
                    Margin="8,0,0,0"
                    Style="{StaticResource AccentButtonStyle}">
                <StackPanel Orientation="Horizontal" Spacing="12">
                    <FontIcon Glyph="&#xE734;" FontFamily="Segoe Fluent Icons" FontSize="24"/>
                    <StackPanel>
                        <TextBlock Text="Shape Templates" FontSize="16" FontWeight="SemiBold"/>
                        <TextBlock Text="Manage your shape templates" FontSize="12" Opacity="0.8"/>
                    </StackPanel>
                </StackPanel>
            </Button>
        </Grid>

        <lvc:PieChart Grid.Row="3"
                      Series="{Binding ShapeDistribution}"
                      LegendPosition="Right"
                      Height="400">
        </lvc:PieChart>
    </Grid>
</Page>