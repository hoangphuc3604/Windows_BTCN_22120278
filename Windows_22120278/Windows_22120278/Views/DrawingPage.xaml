<Page
    x:Class="Windows_22120278.Views.DrawingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Windows_22120278.Views"
    xmlns:vm="using:Windows_22120278.ViewModels"
    xmlns:models="using:Windows_22120278_Data.models">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Toolbar Column -->
        <StackPanel Grid.Column="0" Spacing="8" Padding="12" Background="LightGray">
            <TextBlock Text="Tools" FontWeight="SemiBold" Margin="0,0,0,8" />

            <!-- Shape Buttons -->
            <StackPanel Orientation="Horizontal" Spacing="8">
                <Button Content="Line"
                        Command="{Binding SelectToolCommand}"
                        CommandParameter="{x:Bind models:ShapeType.Line, Mode=OneTime}" />
                <Button Content="Rect"
                        Command="{Binding SelectToolCommand}"
                        CommandParameter="{x:Bind models:ShapeType.Rectangle, Mode=OneTime}" />
                <Button Content="Ellipse"
                        Command="{Binding SelectToolCommand}"
                        CommandParameter="{x:Bind models:ShapeType.Ellipse, Mode=OneTime}" />
                <Button Content="Polygon"
                        Command="{Binding SelectToolCommand}"
                        CommandParameter="{x:Bind models:ShapeType.Polygon, Mode=OneTime}" />
            </StackPanel>

            <!-- Color Picker -->
            <TextBlock Text="Color" Margin="0,8,0,0" />
            <ColorPicker Color="{Binding CurrentColor, Mode=TwoWay}" />

            <!-- Stroke Thickness Slider -->
            <TextBlock Text="Stroke" Margin="0,8,0,0" />
            <Slider Minimum="1" Maximum="20" Value="{Binding CurrentStrokeSize, Mode=TwoWay}" />

            <!-- Action Buttons -->
            <Button Content="Clear Canvas"
                    Command="{Binding ClearCanvasCommand}"
                    Margin="0,16,0,0"
                    Style="{StaticResource DefaultButtonStyle}" />
        </StackPanel>

        <!-- Drawing Area Column -->
        <ScrollViewer Grid.Column="1">
            <Canvas x:Name="DrawingCanvas" 
                    Background="White"
                    PointerPressed="DrawingCanvas_PointerPressed"
                    PointerMoved="DrawingCanvas_PointerMoved"
                    PointerReleased="DrawingCanvas_PointerReleased"
                    PointerCanceled="DrawingCanvas_PointerReleased"
                    DoubleTapped="DrawingCanvas_DoubleTapped" />
        </ScrollViewer>
    </Grid>
</Page>
